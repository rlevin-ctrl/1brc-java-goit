# 1Ô∏è‚É£üêùüèéÔ∏è One Billion Row Challenge ‚Äì Java (GoIT)

–¶–µ–π –ø—Ä–æ—î–∫—Ç ‚Äì –º–æ—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è **One Billion Row Challenge (1BRC)** –Ω–∞ Java: –ø—Ä–æ–≥—Ä–∞–º–∞ —á–∏—Ç–∞—î –¥–æ 1 000 000 000 —Ä—è–¥–∫—ñ–≤ —Ñ–æ—Ä–º–∞—Ç—É  
`<station>;<temperature>` —ñ —Ä–∞—Ö—É—î –¥–ª—è –∫–æ–∂–Ω–æ—ó —Å—Ç–∞–Ω—Ü—ñ—ó **–º—ñ–Ω—ñ–º–∞–ª—å–Ω—É, —Å–µ—Ä–µ–¥–Ω—é —Ç–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É** —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É.

---

## –Ø–∫ —Ü–µ –ø—Ä–∞—Ü—é—î (–∫–æ—Ä–æ—Ç–∫–æ)

–û—Å–Ω–æ–≤–Ω—ñ —ñ–¥–µ—ó:

- **–ü–æ–¥—ñ–ª —Ñ–∞–π–ª—É –Ω–∞ —á–∞–Ω–∫–∏**  
  –í—Ö—ñ–¥–Ω–∏–π —Ñ–∞–π–ª –¥—ñ–ª–∏—Ç—å—Å—è –Ω–∞ –∫—ñ–ª—å–∫–∞ –¥—ñ–∞–ø–∞–∑–æ–Ω—ñ–≤ –±–∞–π—Ç—ñ–≤ (—á–∞–Ω–∫—ñ–≤) –∑–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—é –ø–æ—Ç–æ–∫—ñ–≤. –ú–µ–∂—ñ —á–∞–Ω–∫—ñ–≤ –≤–∏—Ä—ñ–≤–Ω—é—é—Ç—å—Å—è –ø–æ —Å–∏–º–≤–æ–ª—É –Ω–æ–≤–æ–≥–æ —Ä—è–¥–∫–∞ `\n`, —â–æ–± –∫–æ–∂–µ–Ω –ø–æ—Ç—ñ–∫ –æ–±—Ä–æ–±–ª—è–≤ —Ç—ñ–ª—å–∫–∏ **—Ü—ñ–ª—ñ —Ä—è–¥–∫–∏**, –±–µ–∑ –ø–µ—Ä–µ—Ç–∏–Ω—ñ–≤.

- **–ë–∞–≥–∞—Ç–æ–ø–æ—Ç–æ–∫–æ–≤–∞ –æ–±—Ä–æ–±–∫–∞ –±–µ–∑ –±–ª–æ–∫—É–≤–∞–Ω—å**  
  –î–ª—è –∫–æ–∂–Ω–æ–≥–æ —á–∞–Ω–∫–∞ –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è –æ–∫—Ä–µ–º–∏–π –≤–æ—Ä–∫–µ—Ä. –ö–æ–∂–µ–Ω –ø–æ—Ç—ñ–∫:
  - —á–∏—Ç–∞—î **—Å–≤—ñ–π** –¥—ñ–∞–ø–∞–∑–æ–Ω —Ñ–∞–π–ª—É —á–µ—Ä–µ–∑ `FileChannel` + `ByteBuffer`;
  - –ø–∞—Ä—Å–∏—Ç—å —Ä—è–¥–∫–∏ –±–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö `String`;
  - –±—É–¥—É—î **—Å–≤–æ—é –ª–æ–∫–∞–ª—å–Ω—É** `HashMap<StationKey, StationStats>`.

- **–ö–ª—é—á —Å—Ç–∞–Ω—Ü—ñ—ó –±–µ–∑ –∑–∞–π–≤–∏—Ö String**  
  `StationKey` –ø—Ä–∞—Ü—é—î –ø–æ–≤–µ—Ä—Ö —Å–∏—Ä–∏—Ö –±–∞–π—Ç—ñ–≤ –Ω–∞–∑–≤–∏ —Å—Ç–∞–Ω—Ü—ñ—ó:
  - –∑–±–µ—Ä—ñ–≥–∞—î –ø–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –±–∞–π—Ç–∏ –Ω–∞–∑–≤–∏ (`byte[]` + offset + length –∞–±–æ —ó—Ö –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç);
  - –æ–±—á–∏—Å–ª—é—î hash —ñ `equals` –±–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö `String`;
  - –∑–∞–≤–¥—è–∫–∏ —Ü—å–æ–º—É –º–∏ —É–Ω–∏–∫–∞—î–º–æ –º—ñ–ª—å–π–æ–Ω—ñ–≤ –∞–ª–æ–∫–∞—Ü—ñ–π —Ä—è–¥–∫—ñ–≤ —É –≥–∞—Ä—è—á–æ–º—É —Ü–∏–∫–ª—ñ —ñ –∑–º–µ–Ω—à—É—î–º–æ –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ GC.

- **–ê–≥—Ä–µ–≥–∞—Ü—ñ—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏**  
  `StationStats` –∑–±–µ—Ä—ñ–≥–∞—î:
  - –º—ñ–Ω—ñ–º—É–º, –º–∞–∫—Å–∏–º—É–º;
  - —Å—É–º—É —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä (—É –¥–µ—Å—è—Ç–∏—Ö –≥—Ä–∞–¥—É—Å–∞, —è–∫ `int`);
  - –∫—ñ–ª—å–∫—ñ—Å—Ç—å –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å.  
  –î–ª—è –∫–æ–∂–Ω–æ–≥–æ –Ω–æ–≤–æ–≥–æ –∑–Ω–∞—á–µ–Ω–Ω—è –º–∏ –ø—Ä–æ—Å—Ç–æ –æ–Ω–æ–≤–ª—é—î–º–æ —Ü—ñ –ø–æ–ª—è.

- **Merge —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ñ–≤**  
  –ü—ñ—Å–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—è –≤—Å—ñ—Ö –ø–æ—Ç–æ–∫—ñ–≤ –≥–æ–ª–æ–≤–Ω–∏–π –ø–æ—Ç—ñ–∫:
  - –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø–æ –∫–æ–∂–Ω—ñ–π –ª–æ–∫–∞–ª—å–Ω—ñ–π –º–∞–ø—ñ;
  - –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –º—ñ—Å—Ç–∞:
    - —è–∫—â–æ –≤–æ–Ω–æ —â–µ –Ω–µ –∑—É—Å—Ç—Ä—ñ—á–∞–ª–æ—Å—è –≤ –≥–ª–æ–±–∞–ª—å–Ω—ñ–π –º–∞–ø—ñ ‚Äì –¥–æ–¥–∞—î –Ω–æ–≤–∏–π –∑–∞–ø–∏—Å;
    - —è–∫—â–æ –≤–∂–µ —î ‚Äì **–º–µ—Ä–¥–∂–∏—Ç—å** —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É (–æ–Ω–æ–≤–ª—é—î min/max, –¥–æ–¥–∞—î sum —ñ count).

- **–§—ñ–Ω–∞–ª—å–Ω–∏–π –≤–∏–≤—ñ–¥**  
  –ù–∞–ø—Ä–∏–∫—ñ–Ω—Ü—ñ:
  - –∑–±–∏—Ä–∞—î–º–æ –≤—Å—ñ —Å—Ç–∞–Ω—Ü—ñ—ó, —Å–æ—Ä—Ç—É—î–º–æ —ó—Ö –∑–∞ –Ω–∞–∑–≤–æ—é;
  - —Ä–∞—Ö—É—î–º–æ —Å–µ—Ä–µ–¥–Ω—é —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—É;
  - –≤–∏–≤–æ–¥–∏–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É —Ñ–æ—Ä–º–∞—Ç—ñ  
    `City=min/avg/max`  
  —É —Ñ–∞–π–ª `measurements.out`.

---

## –í–∏–º–æ–≥–∏

- Bash (–¥–ª—è –∑–∞–ø—É—Å–∫—É —Å–∫—Ä–∏–ø—Ç–∞ `evaluate.sh`; —Ä–µ–∫–æ–º–µ–Ω–¥—É—é –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Git Bash –Ω–∞ Windows –∞–±–æ –±—É–¥—å-—è–∫–∏–π Bash —É Linux/macOS).

---

## –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö —Ç–∞ –∑–∞–ø—É—Å–∫

–§–∞–π–ª `measurements.txt` **–Ω–µ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è** –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó ‚Äì –≤—ñ–Ω –≥–µ–Ω–µ—Ä—É—î—Ç—å—Å—è –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º.

–ü—Ä–∏–∫–ª–∞–¥ (1 –º—ñ–ª—å—è—Ä–¥ –≤–∏–º—ñ—Ä—é–≤–∞–Ω—å):

![–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞–ø—É—Å–∫—É evaluate.sh](https://github.com/user-attachments/assets/0aa91456-b17f-40d1-a772-6f5cd4ec047e)

### –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –∑–∞–ø—É—Å–∫—É (Git Bash / Bash)

```bash
# 1. –í—ñ–¥–∫—Ä–∏—Ç–∏ –∫–æ–Ω—Å–æ–ª—å Git Bash (–∞–±–æ —ñ–Ω—à–∏–π Bash)

# 2. –ü–µ—Ä–µ–π—Ç–∏ –≤ –ø–∞–ø–∫—É –∑ –ø—Ä–æ—î–∫—Ç–æ–º
cd "/c/Users/Robert/RiderProjects/1BRC_GoIt"   # —É –º–∞—î–º—É –≤–∏–ø–∞–¥–∫—É, –∑–∞–º—ñ–Ω–∏ –Ω–∞ —Å–≤—ñ–π —à–ª—è—Ö

# 3. –î–∞—Ç–∏ –ø—Ä–∞–≤–∞ –Ω–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Å–∫—Ä–∏–ø—Ç–∞ (—Ä–æ–±–∏—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑)
chmod +x evaluate.sh

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –±–µ–Ω—á–º–∞—Ä–∫, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥:
./evaluate.sh 1000000000 3
# ./evaluate.sh [–∫—ñ–ª—å–∫—ñ—Å—Ç—å_–¥–∞–Ω–∏—Ö_–¥–ª—è_–≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó] [—Å–∫—ñ–ª—å–∫–∏_—Ä–∞–∑—ñ–≤_–ø—Ä–æ–≥–Ω–∞—Ç–∏]

# (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ, –æ–∫—Ä–µ–º–∏–π –≤–∏–∫–ª–∏–∫ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)
# java -cp out org.example.CreateMeasurements 10000000000

